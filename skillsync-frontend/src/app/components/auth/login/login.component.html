<div class="login-container">
  <h2>{{ 'AUTH.LOGIN.TITLE' | translate }}</h2>
  <form [formGroup]="loginForm" (ngSubmit)="login()">
    <mat-form-field appearance="fill">
      <mat-label>{{ 'AUTH.LOGIN.USERNAME' | translate }}</mat-label>
      <input matInput formControlName="username" required>
      <mat-error *ngIf="loginForm.get('username')?.hasError('required')">
        {{ 'ERRORS.REQUIRED' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'AUTH.LOGIN.PASSWORD' | translate }}</mat-label>
      <input matInput type="password" formControlName="password" required>
      <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
        {{ 'ERRORS.REQUIRED' | translate }}
      </mat-error>
    </mat-form-field>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <button mat-raised-button color="primary" type="submit" [disabled]="loginForm.invalid || isLoading">
      <mat-spinner diameter="20" *ngIf="isLoading"></mat-spinner>
      <span *ngIf="!isLoading">{{ 'AUTH.LOGIN.SUBMIT' | translate }}</span>
    </button>
  </form>

  <p>
    <a routerLink="/forgot-password">{{ 'AUTH.LOGIN.FORGOT_PASSWORD' | translate }}</a>
  </p>
  <p>
    {{ 'AUTH.LOGIN.NO_ACCOUNT' | translate }}
    <a routerLink="/register">{{ 'AUTH.LOGIN.SIGN_UP' | translate }}</a>
  </p>
</div>

<div class="social-login">
  <button mat-raised-button color="primary" (click)="googleLogin()">
    <mat-icon svgIcon="google-logo"></mat-icon>
    {{ 'LOGIN.GOOGLE_SIGN_IN' | translate }}
  </button>
  <button mat-raised-button color="primary" (click)="facebookLogin()">
    <mat-icon svgIcon="facebook-logo"></mat-icon>
    {{ 'LOGIN.FACEBOOK_SIGN_IN' | translate }}
  </button>
</div>
